<% extends 'base.html' %>

<% block css %><% endblock %>

<% block js %>
<$ 'chat' | js | safe $>
<% endblock %>

<% block templates %>
    <% include 'includes/js/room.html' %>
    <% include 'includes/js/user.html' %>
    <% include 'includes/js/file.html' %>
    <% include 'includes/js/message.html' %>
    <% include 'includes/js/tab.html' %>
    <% include 'includes/js/browser-item.html' %>
    <% include 'includes/js/browser-item-user.html' %>
    <% include 'includes/js/upload.html' %>
<% endblock %>

<% block body %>
    <div id="lcb-client" class="lcb-client">
        <div class="lcb-header">
            <button type="button" class="btn lcb-header-toggle">
                <i class="fa fa-bars" aria-label="<$ __('Toggle Navigation') $>"></i>
            </button>
            <div class="lcb-header-logo">OverTask</div>
        </div>
        <section class="lcb-sidebar">
            <div class="dropdown">
                <div class="lcb-account-info">
                    <img class="lcb-avatar" src="https://www.gravatar.com/avatar/<$ account.avatar $>?s=48" />
                    <div class="username-info">
                        <span class="lcb-account-name"><$ account.displayName $></span>
                        <span class="lcb-account-username">@<$ account.username $></span>
                    </div>
                </div>
                <ul class="user-menu">
                    <li title="<$ __('Edit Profile') $>">
                        <a data-toggle="modal" href="#lcb-profile">
                            <i class="icon-pencil icons circle white"></i>
                        </a>
                    </li>
                    <li title="<$ __('Edit Account') $>">
                        <a data-toggle="modal" href="#lcb-account">
                            <i class="icon-settings icons circle white"></i>
                        </a>
                    </li>
                    <li title="<$ __('Edit Notifications') $>">
                        <a data-toggle="modal" href="#lcb-notifications">
                            <i class="icon-bell icons circle white"></i>
                        </a>
                    </li>
                    <% if settings.xmpp.enable %>
                        <li>
                            <a data-toggle="modal" href="#lcb-xmpp">
                                <i class="fa fa-fw fa-comments circle white"></i>
                            </a>
                        </li>
                    <% endif %>
                    <li title="<$ __('Edit Tokens') $>">
                        <a data-toggle="modal" href="#lcb-tokens">
                            <i class="icon-shield icons circle white"></i>
                        </a>
                    </li>
                    <li title="<$ __('Logout') $>">
                        <a href="./logout">
                            <i class="icon-logout icons circle white"></i>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="lcb-status-indicators">
                <span class="lcb-status-indicator lcb-status-indicator-error lcb-status-connection" data-status="disconnected" style="display: none;">
                    <i class="icon-close icons"></i> <$ __('Disconnected') $>
                </span>
                <span class="lcb-status-indicator lcb-status-connection" data-status="connected" style="display: none;">
                    <i class="icon-refresh icons"></i> <$ __('Connected') $>
                </span>
                <span class="lcb-status-indicator lcb-status-connection" style="display: none;">
                    <i class="fa fa-bell-slash"></i>
                </span>
            </div>
            <div class="lcb-version">
                v <$ version $>
            </div>
            <div class="lcb-tabs-outer">
                <span class="lcb-tabs-title">CHANNELS</span>
                <ul class="lcb-tabs">
                    <li data-id="list" class="lcb-tab lcb-tab-home">
                        <a href="#!/">
                        <span class="lcb-tab-circle">H</span>
                        <span class="lcb-tab-title"><$ __('Home') $></span>
                        <span class="lcb-tab-alerts">
                            <span class="lcb-tab-alerts-mentions"></span>
                            <span class="lcb-tab-alerts-total"></span>
                        </span>
                        </a>
                    </li>
                </ul>
            </div>
        </section>
        <section class="lcb-panes">
            <div class="lcb-rooms-browser lcb-pane hide" data-id="list">
                <header class="lcb-room-header">
                    <div class="lcb-room-meta">
                        <h2 class="lcb-room-heading lcb-room-heading-loud"><$ __('All Rooms') $></h2>
                    </div>
                    <div class="lcb-rooms-browser-filter">
                        <input id="lcb-rooms-browser-filter-input" class="lcb-rooms-browser-filter-input" type="search" autofocus placeholder="<$ __('Find a room...') $>" />
                    </div>
                    <div class="lcb-room-header-actions">
                        <a class="lcb-rooms-browser-new" data-toggle="modal" data-target="#lcb-add-room" href="#!/rooms/add" title="Add new room">
                            <i class="icon-plus icons" aria-label="<$ __('Add Room') $>"></i>
                        </a>
                    </div>
                </header>
                <header class="lcb-rooms-browser-header hide">
                    <h2 class="lcb-rooms-browser-heading">
                        <$ __('All Rooms') $>
                    </h2>
                </header>
                <div class="lcb-rooms-list"></div>
                <% include 'includes/modals/add-room.html' %>
                <% include 'includes/modals/password.html' %>
            </div>
        </section>
        <div class="lcb-loading lcb-client-loading">
            <img class="lcb-loading-indicator" src="./media/img/loading.svg" alt="<$ __('Loading') $>..." />
        </div>
        <% include 'includes/modals/notifications.html' %>
        <% include 'includes/modals/profile.html' %>
        <% include 'includes/modals/account.html' %>
        <% include 'includes/modals/xmpp.html' %>
        <% include 'includes/modals/tokens.html' %>
        <% include 'includes/modals/upload.html' %>
        <% include 'includes/modals/giphy.html' %>
    </div><!-- lcb-client end -->
<% endblock %>
